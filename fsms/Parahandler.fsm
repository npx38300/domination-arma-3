class FSM
{
  fsmName = "Parahandler";
  class States
  {
    class START
    {
      name = "START";
      init = "private [""_timenow"",""_dummy"",""_cur_tgt_pos""];" \n
       "" \n
       "_dummy = d_target_names select d_current_target_index;" \n
       "_cur_tgt_pos = _dummy select 0;" \n
       "" \n
       "_timenow = time + 33;";
      precondition = "";
      class Links
      {
        class Delay
        {
          priority = 0.000000;
          to="Loop";
          precondition = "";
          condition="time > _timenow";
          action="";
        };
      };
    };
    class Loop
    {
      name = "Loop";
      init = "";
      precondition = "";
      class Links
      {
        class mt_radio_down
        {
          priority = 2.000000;
          to="End";
          precondition = "";
          condition="d_mt_radio_down";
          action="";
        };
        class not_mt_radio_dow
        {
          priority = 0.000000;
          to="React";
          precondition = "";
          condition="";
          action="";
        };
      };
    };
    class React
    {
      name = "React";
      init = "_timenow = time + 10;" \n
       "";
      precondition = "";
      class Links
      {
        class mt_radio_down
        {
          priority = 2.000000;
          to="End";
          precondition = "";
          condition="d_mt_radio_down";
          action="";
        };
        class New_Paras
        {
          priority = 1.000000;
          to="Create";
          precondition = "";
          condition="d_create_new_paras";
          action="";
        };
        class Delay_10
        {
          priority = 0.000000;
          to="Loop";
          precondition = "";
          condition="time > _timenow";
          action="";
        };
      };
    };
    class End
    {
      name = "End";
      init = "";
      precondition = "";
      class Links
      {
      };
    };
    class Create
    {
      name = "Create";
      init = "private [""_start_pos"",""_end_pos"",""_num_p"",""_attack_pos"",""_vecs""];" \n
       "_attack_pos = [_cur_tgt_pos,200] call d_fnc_GetRanPointCircleOld;" \n
       "_start_pos = call d_fnc_GetRanPointOuterAir;" \n
       "while {_start_pos distance D_FLAG_BASE < 1000 || {_attack_pos distance _start_pos < 1000}} do {" \n
       "	_start_pos = call d_fnc_GetRanPointOuterAir;" \n
       "};" \n
       "_end_pos = call d_fnc_GetRanPointOuterAir;" \n
       "while {_end_pos distance D_FLAG_BASE < 1000 || {_attack_pos distance _end_pos < 1000}} do {" \n
       "	_end_pos = call d_fnc_GetRanPointOuterAir;" \n
       "};" \n
       "_num_p = call d_fnc_PlayersNumber;" \n
       "_vecs = if (_num_p == 0) then {" \n
       "	1" \n
       "} else {" \n
       "	(round (_num_p * 0.13)) max 2" \n
       "};" \n
       "d_create_new_paras = false;" \n
       "[_start_pos,_attack_pos,_end_pos,_vecs] spawn d_fnc_createpara3x;" \n
       "_timenow = time + 10;";
      precondition = "";
      class Links
      {
        class mt_radio_down
        {
          priority = 2.000000;
          to="End";
          precondition = "";
          condition="d_mt_radio_down";
          action="";
        };
        class Delay_10
        {
          priority = 0.000000;
          to="Loop";
          precondition = "";
          condition="time > _timenow";
          action="";
        };
      };
    };
  };
  initState="START";
  finalStates[] =
  {
    "End",
  };
};
